<div class="container retro-form" id="retro-form">
    <div class="row">
        <div id="title-container" class="col s12 m12">
            <h1 class="center-align" id="main-title">ZenikAI - Le Cookéo à Rétro</h1>
            <h2 class="center-align" id="subtitle">powered by Generative AI</h2>
            <p class="flow-text" style="text-align: center;" id="intro-text">
                Grâce à lui, venez préparer votre atelier de rétrospective comme si vous cuisiniez avec un
                Cookeo!
            </p>
            <form id="myForm" action="/generate_retro" method="post">
                <fieldset>
                    <legend>Paramètres de la rétrospective</legend>
                    <div class="row">
                        <div class="input-field col s12 m6 l3">
                            <label for="theme">Thème de la rétrospective (optionnel)</label>
                            <select name="theme" id="theme">
                                <option value="" disabled selected>Choisissez un thème</option>
                                {% for theme in options.themes %}
                                <option value="{{ theme }}" {% if theme==userChoices.theme %}selected{% endif %}>{{
                                    theme }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="input-field col s12 m6 l3">
                            <label for="type">Type de rétrospective (optionnel)</label>
                            <select name="type" id="type">
                                <option value="" disabled selected>Choisissez un type</option>
                                {% for type in options.types %}
                                <option value="{{ type }}" {% if type==userChoices.type %}selected{% endif %}>{{
                                    type }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="input-field col s12 m6 l3">
                            <label for="duree">Durée de la rétrospective (optionnel)</label>
                            <select name="duree" id="duree">
                                <option value="" disabled selected>Choisissez une durée</option>
                                {% for duree in options.durees %}
                                <option value="{{ duree }}" {% if duree==userChoices.duree %}selected{% endif %}>{{
                                    duree }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="input-field col s12 m6 l3 attendees" id="attendees-container">
                            <label for="attendees">Nombre de participants (Requis)</label>
                            <select name="attendees" id="attendees" class="attendees" aria-required="true">
                                <option value="" disabled selected>Choisissez un nombre</option>
                                {% for attendees in range(3, 21) %}
                                <option value="{{ attendees }}" {% if attendees==userChoices.attendees %}selected{%
                                    endif %}>{{
                                    attendees }}</option>
                                {% endfor %}
                            </select>
                            <span id="attendees-error" class="error-message" style="display: none;"
                                role="alert">Veuillez sélectionner le nombre de participants.</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12">
                            <label for="icebreaker">
                                <input type="checkbox" name="icebreaker" id="icebreaker" {% if userChoices.icebreaker
                                    %}checked{% endif %} />
                                <span>Inclure un icebreaker</span>
                            </label>
                        </div>
                    </div>
                </fieldset>

                <div class="row">
                    <div class="input-field col s12 m8">
                        <label for="objective">But recherché pour cet atelier (Optionnel)</label>
                        <textarea id="objective" name="objective" class="materialize-textarea"
                            aria-describedby="objective-help"></textarea>
                        <span id="objective-help" class="help-text">Décrivez l'objectif principal de votre
                            rétrospective.</span>
                    </div>
                </div>

                <fieldset id="advancedOptions" style="display:none;">
                    <legend>Options avancées</legend>
                    <div class="row">
                        <div class="input-field col s12 m4">
                            <label for="base">Base de rétrospective (optionnel)</label>
                            <select name="base" id="base">
                                <option value="" disabled selected>Choisissez une base</option>
                                {% for base in options.bases %}
                                <option value="{{ base }}" {% if base==userChoices.base %}selected{% endif %}>{{
                                    base }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="input-field col s12 m4">
                            <label for="facilitation">Facilitation d'animation (optionnel)</label>
                            <select name="facilitation" id="facilitation">
                                <option value="" disabled selected>Choisissez un type</option>
                                {% for facilitation in options.facilitations %}
                                <option value="{{ facilitation }}" {% if facilitation==userChoices.facilitation
                                    %}selected{% endif %}>{{ facilitation }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col s12 m4">
                            <label for="distanciel">
                                <input type="checkbox" name="distanciel" id="distanciel" {% if userChoices.distanciel
                                    %}checked{% endif %} />
                                <span>Distanciel</span>
                            </label>
                        </div>
                    </div>
                </fieldset>

                <div class="row buttons">
                    <div id="advancedOptionsPlus" class="col s12 m12">
                        <p class="label-btn">Ajouter des éléments de personnalisation</p>
                        <button type="button" id="advancedPlusButton"
                            class="advanced-btn waves-effect waves-light" aria-expanded="false"
                            aria-controls="advancedOptions"><img
                                src="../static/img/btn-plus.svg" alt="Afficher les options avancées" /></button>
                    </div>
                    <div id="advancedOptionsLess" class="col s12 m12" style="display:none;">
                        <p class="label-btn">Enlever les éléments de personnalisation</p>
                        <button type="button" id="advancedLessButton"
                            class="advanced-btn waves-effect waves-light" aria-expanded="true"
                            aria-controls="advancedOptions"><img
                                src="../static/img/btn-less.svg" alt="Masquer les options avancées" /></button>
                    </div>
                    <div class="generateSection col s12 m12">
                        <button type="submit" class="btn waves-effect waves-light">Générer ma
                            rétrospective</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
